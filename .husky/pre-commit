#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” éªŒè¯é¡¹ç›®ç»“æ„..."
./scripts/verify_structure.sh

echo "ğŸ§¹ è¿è¡Œä»£ç æ ¼å¼åŒ–..."
# Frontend
cd src/frontend && npm run format && npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ å‰ç«¯ä»£ç æ ¼å¼åŒ–å¤±è´¥"
  exit 1
fi

# Backend
cd ../backend
black .
isort .
flake8 .
mypy .
if [ $? -ne 0 ]; then
  echo "âŒ åç«¯ä»£ç æ ¼å¼åŒ–å¤±è´¥"
  exit 1
fi

echo "âœ¨ ä»£ç æ£€æŸ¥å®Œæˆ" 